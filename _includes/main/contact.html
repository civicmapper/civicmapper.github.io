<section id="contact">
	<div class="container">
		<div class="row">
			<div class="col-md-6">
				<h2 class="section-heading">Contact Us</h2>
			</div>
			<div class="col-md-6">
				<p>Interested in what CivicMapper can do for you? Get in touch!</p>
			</div>	
		</div>

		<div class="row">
			<div class="col-sm-8">
				<form name="sentMessage" id="contactForm" action="https://formspree.io/maydnojp", method="POST">
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<input type="text" name="name" class="form-control" placeholder="Your Name *" id="name" required data-validation-required-message="Please enter your name.">
								<p class="help-block text-danger"></p>
							</div>
							<div class="form-group">
								<input type="email" name="_replyto" class="form-control" placeholder="Your Email *" id="email" required data-validation-required-message="Please enter your email address.">
								<p class="help-block text-danger"></p>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<textarea type="text" name="message" class="form-control" placeholder="Your Message *" id="message" required data-validation-required-message="Please enter a message."></textarea>
								<p class="help-block text-danger"></p>
							</div>
						</div>
						<div class="clearfix"></div>
						<div class="col-lg-12 text-center">
							<div id="success"></div>
							<button id="contactForm-button" type="submit" value="Send" class="btn btn-xl">Send Message</button>
						</div>
					</div>
				</form>
				<div>
					<p id="contactForm-status"></p>
				</div>					
			</div>
			<div class="col-sm-4 text-center">
				
				<ul class="list-inline social-buttons">
					{% for network in site.data.contact.social %}
					<li>
						<a href="{{ network.url }}"><i class="fa fa-lg fa-{{ network.title }}"></i></a>
					</li>
					{% endfor %}
				</ul>
			</div>
		</div>

		<!-- <hr>
		<div class="row">
			<div class="col-md-12 text-center">
				<p>
				<ul class="list-inline social-buttons">
					{% for network in site.data.contact.social %}
					<li><a href="{{ network.url }}"><i class="fa fa-lg fa-{{ network.title }}"></i></a>
					</li>
					{% endfor %}
				</ul>
				</p>
				<br /><br />
			</div>
			<div class="col-md-4 "></div>
		</div>		 -->
	</div>
</section>

<script>
	window.addEventListener("DOMContentLoaded", function() {
  
	  // get the form elements defined in your form HTML above
	  
	  var form = document.getElementById("contactForm");
	  var button = document.getElementById("contactForm-button");
	  var status = document.getElementById("contactForm-status");
  
	  // Success and Error functions for after the form is submitted
	  
	  function success() {
		form.reset();
		button.style = "display: none ";
		status.innerHTML = "Thanks&mdash;we'll get back to you soon!";
	  }
  
	  function error() {
		status.innerHTML = "Oops! There was a problem.";
	  }
  
	  // handle the form submission event
  
	  form.addEventListener("submit", function(ev) {
		ev.preventDefault();
		var data = new FormData(form);
		ajax(form.method, form.action, data, success, error);
	  });
	});
	
	// helper function for sending an AJAX request
  
	function ajax(method, url, data, success, error) {
	  var xhr = new XMLHttpRequest();
	  xhr.open(method, url);
	  xhr.setRequestHeader("Accept", "application/json");
	  xhr.onreadystatechange = function() {
		if (xhr.readyState !== XMLHttpRequest.DONE) return;
		if (xhr.status === 200) {
		  success(xhr.response, xhr.responseType);
		} else {
		  error(xhr.status, xhr.response, xhr.responseType);
		}
	  };
	  xhr.send(data);
	}
  </script>
